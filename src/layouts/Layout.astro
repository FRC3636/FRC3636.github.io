---
// Layout with a header, footer, and content.

import Base, { type Props as BaseProps } from "./Base.astro";
import Footer from "../components/Footer.astro";
import Header, { type HeaderTheme } from "../components/Header.astro";

export interface Props extends BaseProps {
    header?: HeaderTheme;
}

const { header = "normal", ...rest } = Astro.props;
---

<Base {...rest}>
    <Header theme={header} />
    <slot />
    <Footer />
</Base>

<script>
    // If the header is transparent, it should turn blue when you scroll.

    const header = document.getElementById("page-header")!;
    window.addEventListener("scroll", () => {
        header.classList.toggle("scrolled", window.scrollY > 10);
    });
</script>
